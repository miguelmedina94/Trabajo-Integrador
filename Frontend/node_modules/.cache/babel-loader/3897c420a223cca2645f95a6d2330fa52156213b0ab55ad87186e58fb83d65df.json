{"ast":null,"code":"var _jsxFileName = \"C:\\\\Miguel\\\\Akademy\\\\Trabajo-Integrador\\\\Frontend\\\\src\\\\components\\\\screens\\\\ShowEdit.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Alert, Divider, Paper, Snackbar } from '@mui/material';\nimport { Stack } from '@mui/system';\nimport { reemplazarEmpleado } from '../../store/empleadosSlice/slice';\nimport { validateSliceChange } from '../../utils/validate';\nimport Formulario from '../formulario';\nimport imagen from '../../media/alert.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ShowEdit = props => {\n  _s();\n  // ======= HOOOKS ===========\n  const {\n    id\n  } = useParams();\n  const {\n    empleados\n  } = useSelector(state => state.empleados);\n  const [mode, setMode] = useState(props.mode);\n  const [alert, setAlert] = useState({\n    type: 'success'\n  });\n  const [editable, setEditable] = useState();\n  const [empleado, setEmpleado] = useState(null);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    setearEmpleado();\n  }, [mode]);\n\n  // ======= FUNCTIONS ===========\n  const screenConfig = () => {\n    const config = {\n      empleado: empleado,\n      primaryButton: primaryButton,\n      secondaryButton: secondaryButton,\n      onChangeField: onChangeField,\n      getValueTF: getValueTF,\n      onBlurField: onBlurField\n    };\n    switch (mode) {\n      case 'show':\n        config.title = `Mostrando Empleado: ${id}`;\n        config.editable = false;\n        config.textPrimaryButton = 'Editar';\n        config.textSecondaryButton = 'Volver';\n        break;\n      case 'edit':\n        config.title = `Editando Empleado: ${id}`;\n        config.editable = true;\n        config.textPrimaryButton = 'Guardar';\n        config.textSecondaryButton = 'Cancelar';\n        break;\n      default:\n        return;\n    }\n    return config;\n  };\n  const primaryButton = () => {\n    switch (mode) {\n      case 'edit':\n        if (alert.type === 'success') {\n          dispatch(reemplazarEmpleado(empleado));\n          setEditable(!editable);\n          setMode('show');\n          setAlert({\n            open: true,\n            message: `Se modifico el empleado ${empleado.nombre} correctamente`,\n            type: 'success'\n          });\n        }\n        break;\n      case 'show':\n        setEditable(!editable);\n        setMode('edit');\n        break;\n      default:\n        return;\n    }\n  };\n  const secondaryButton = () => {\n    switch (mode) {\n      case 'edit':\n        setMode('show');\n        setearEmpleado();\n        setEditable(false);\n        break;\n      case 'show':\n        navigate('/');\n        break;\n    }\n    ;\n  };\n  const onChangeField = e => {\n    const value = e.target.value;\n    setEmpleado({\n      ...empleado,\n      [e.target.name]: value\n    });\n  };\n  const getValueTF = attr => {\n    return empleado[attr] ? empleado[attr] : '';\n  };\n  const onBlurField = e => {\n    setAlert(validateSliceChange(empleado, e));\n  };\n  const onClose = (event, reason) => {\n    if (reason !== 'clickaway') {\n      setAlert({\n        open: false\n      });\n    }\n  };\n  const mostrarMensaje = () => {\n    return /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: alert.open,\n      autoHideDuration: 3000,\n      onClose: onClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: onClose,\n        severity: alert.type,\n        sx: {\n          width: '100%'\n        },\n        children: alert.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }, this);\n  };\n  const empleadoNotFound = () => {\n    setTimeout(() => {\n      navigate('/');\n    }, 3000);\n    return /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        maxWidth: '500px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: \" NO SE ENCONTRO EL EMPLEADO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imagen,\n        alt: \"error\",\n        width: 500\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this);\n  };\n\n  // ======= PRESETS ===========\n  const setearEmpleado = () => {\n    const empleadoSeleccionado = empleados.find(actual => actual.id === id);\n    setEmpleado(empleadoSeleccionado);\n  };\n\n  // ======= RENDER ===========\n  if (screenConfig().empleado) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        sx: {\n          width: '100%'\n        },\n        children: mostrarMensaje()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Formulario, {\n        config: screenConfig()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  } else {\n    return empleadoNotFound();\n  }\n};\n_s(ShowEdit, \"pVAGc/t/lJsRYz1IrA86r04VBBU=\", false, function () {\n  return [useParams, useSelector, useDispatch, useNavigate];\n});\n_c = ShowEdit;\nexport default ShowEdit;\nvar _c;\n$RefreshReg$(_c, \"ShowEdit\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useNavigate","useParams","Alert","Divider","Paper","Snackbar","Stack","reemplazarEmpleado","validateSliceChange","Formulario","imagen","ShowEdit","props","id","empleados","state","mode","setMode","alert","setAlert","type","editable","setEditable","empleado","setEmpleado","dispatch","navigate","setearEmpleado","screenConfig","config","primaryButton","secondaryButton","onChangeField","getValueTF","onBlurField","title","textPrimaryButton","textSecondaryButton","open","message","nombre","e","value","target","name","attr","onClose","event","reason","mostrarMensaje","width","empleadoNotFound","setTimeout","maxWidth","empleadoSeleccionado","find","actual"],"sources":["C:/Miguel/Akademy/Trabajo-Integrador/Frontend/src/components/screens/ShowEdit.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nimport { Alert, Divider, Paper, Snackbar } from '@mui/material';\r\nimport { Stack } from '@mui/system';\r\n\r\nimport { reemplazarEmpleado } from '../../store/empleadosSlice/slice';\r\nimport { validateSliceChange } from '../../utils/validate';\r\nimport Formulario from '../formulario';\r\nimport imagen from '../../media/alert.png'\r\n\r\nconst ShowEdit = ( props ) => {\r\n    // ======= HOOOKS ===========\r\n    const {id} = useParams();\r\n    const {empleados} = useSelector(state => state.empleados);\r\n    const [mode , setMode] = useState(props.mode);\r\n    const [alert , setAlert] = useState({type:'success'});\r\n    const [editable, setEditable] = useState();\r\n    const [empleado, setEmpleado] = useState(null);\r\n    \r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() =>{\r\n        setearEmpleado();\r\n    },[mode])\r\n    \r\n    // ======= FUNCTIONS ===========\r\n    const screenConfig = () =>{\r\n        const config = {\r\n            empleado: empleado,\r\n            primaryButton: primaryButton,\r\n            secondaryButton: secondaryButton,\r\n            onChangeField: onChangeField,\r\n            getValueTF: getValueTF,\r\n            onBlurField: onBlurField\r\n            };\r\n        switch (mode) {\r\n            case 'show':\r\n                config.title = `Mostrando Empleado: ${id}`;\r\n                config.editable = false;\r\n                config.textPrimaryButton = 'Editar'\r\n                config.textSecondaryButton = 'Volver';\r\n                break;\r\n            case 'edit':\r\n                config.title = `Editando Empleado: ${id}`;\r\n                config.editable = true;\r\n                config.textPrimaryButton = 'Guardar'\r\n                config.textSecondaryButton = 'Cancelar';\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n        return config;\r\n    }\r\n\r\n    const primaryButton = () =>{\r\n        switch (mode){\r\n            case 'edit':\r\n                if(alert.type === 'success'){\r\n                    dispatch(reemplazarEmpleado(empleado));\r\n                    setEditable(!editable);\r\n                    setMode('show');\r\n                    setAlert({open: true, \r\n                        message: `Se modifico el empleado ${empleado.nombre} correctamente`,\r\n                        type: 'success'});\r\n                }\r\n                break;\r\n            case 'show':\r\n                setEditable(!editable);\r\n                setMode('edit');\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    const secondaryButton = () => {\r\n        switch (mode) {\r\n            case 'edit':\r\n                setMode('show');\r\n                setearEmpleado();\r\n                setEditable(false);\r\n                break;\r\n            case 'show':\r\n                navigate('/');\r\n                break;\r\n        };\r\n    };\r\n\r\n    const onChangeField = (e) => {\r\n        const value = e.target.value;\r\n        setEmpleado({\r\n            ...empleado,\r\n            [e.target.name]: value\r\n        });\r\n    };\r\n\r\n    const getValueTF = (attr) =>{\r\n        return empleado[attr] ? empleado[attr] : '';\r\n    }\r\n\r\n    const onBlurField = (e) => {\r\n        setAlert(validateSliceChange(empleado,e));\r\n    }\r\n\r\n    const onClose = (event,reason) => {\r\n        if (reason !== 'clickaway') {\r\n            setAlert({open: false});\r\n        }\r\n    };\r\n\r\n    const mostrarMensaje = () => {\r\n        return (\r\n                <Snackbar open={alert.open} autoHideDuration={3000} onClose={onClose}>\r\n                    <Alert onClose={onClose} severity={alert.type} sx={{ width: '100%'}}>\r\n                    {alert.message}\r\n                    </Alert>\r\n                </Snackbar>\r\n        );\r\n    };\r\n\r\n    const empleadoNotFound = () => {\r\n        setTimeout(() => {\r\n            navigate('/');\r\n        }, 3000);\r\n        return(\r\n            <Paper sx={{maxWidth: '500px'}}>\r\n            <Divider />\r\n                <Alert severity='error'> NO SE ENCONTRO EL EMPLEADO</Alert>\r\n                <img src={imagen} alt='error' width={500}/>\r\n            <Divider />\r\n        </Paper>\r\n        )\r\n    }\r\n\r\n    // ======= PRESETS ===========\r\n    const setearEmpleado = () => {\r\n        const empleadoSeleccionado = empleados.find( actual => actual.id === id);\r\n        setEmpleado(empleadoSeleccionado);\r\n    }\r\n\r\n    // ======= RENDER ===========\r\n    if(screenConfig().empleado){\r\n        return (\r\n            <>\r\n                <Stack spacing={2} sx={{ width: '100%' }}>\r\n                    {mostrarMensaje()}\r\n                </Stack>\r\n                <Formulario config={screenConfig()}/>\r\n            </>\r\n        );\r\n    }else{\r\n        return empleadoNotFound();\r\n    }\r\n}\r\n\r\nexport default ShowEdit;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}